<topnav toggle="toggleSideMenu()" icon="icon-rt-endpoint" section="Endpoints" show-menu-btn="!grafana.sidemenu">
	<ul class="nav">
		<li class="top-nav-title ng-binding">
			<div>
				<form style="margin-bottom:0px;">
					<li class="dropdown">
						<a class="pointer" data-toggle="dropdown" ng-click="loadOrgs()">
							<span>{{endpoint.name}}</span><i class="fa fa-caret-down small" style="position:relative; top:5px; left:10px;"></i>
				   		</a>
						<ul class="dropdown-menu" role="menu" style="left: 65px">
							<li ng-repeat="endpoint in endpoints">
								<a class="small" href="endpoints/summary/{{endpoint.id}}">{{endpoint.name}}</a>
							</li>
						</ul>
					</li>
				</form>
			</div>
		</li>
	</ul>
</topnav>

<div ng-controller="EndpointConfCtrl" ng-init="editor={index:0}" style="margin: 10px; position: relative; display: block; min-width:400px; max-width: 1000px;">
	<div class="rt-modal-header">
		<div class="rt-h1">
			<img style="vertical-align: bottom;" src="img/rt-endpoint.svg" width="25" height="25">
			<span>New Endpoint</span>
		</div>
	</div>

	<form name="endpointForm">

	<!-- Summary Tab  -->

 	<div class="rt-box-body">
		<div class="modalContainer summary-tab">
			<div class="modalColumn modal-left-equal">
				<div class="editor-option" style="display: block; padding-bottom: 5px;">
					<label class="rt-form-label-medium">Domain Name</label>
					<input type="text" class="rt-form-input" ng-model="endpoint.name" required="">
				</div>
				<div ng-hide="discovered">
					<button type="submit" class="secondaryCTA" ng-click="endpointForm.$valid && discover(endpoint)">Auto Discover
					<!-- Button needs a spinner on submit -->
					</button>
				</div>

			</div>
			<div class="modalColumn modal-right-equal">

				<div class="editor-row">
					<div style="display: block; margin-top: 5px;" class="editor-option">
						<bootstrap-tagsinput ng-model="endpoint.tags" tagclass="label label-tag" placeholder="add tags"></bootstrap-tagsinput>
					</div>
				</div>


				<!-- Below replaces Auto-Discover button on success -->
				<div style="display: block; padding: 10px 25px 10px 0" ng-show="discovered">
					<span class="rt-h3">Great Success!</span>
					<p class="rt-modal-body-copy">We've suggested some default checks below based on what we were able to detect.</br></p>

					<!-- Would like to show this ul block if any checks are enabled, but dont know how to do that -->
					<ul class="rt-modal-ul">
						<li>
							<input class="rt-modal" id="ping-enabled" type="checkbox" ng-model="monitors['ping'].enabled" ng-true-value="true" ng-false-value="false">
							<label for="ping-enabled" class="rt-modal rt-modal-label-copy">Ping:</label>
							<span class="rt-modal-tiny-copy">Every {{monitors['ping'].frequency}}s</span>
						</li>
						<li>
							<input class="rt-modal" id="DNS-enabled" type="checkbox" ng-model="monitors['dns'].enabled" ng-true-value="true" ng-false-value="false">
							<label for="DNS-enabled" class="rt-modal rt-modal-label-copy">DNS: </label>
							<span class="rt-modal-tiny-copy">Every {{monitors['dns'].frequency}}s</span>
						</li>
						<li>
							<input class="rt-modal" id="HTTP-enabled" type="checkbox" ng-model="monitors['http'].enabled" ng-true-value="true" ng-false-value="false">
							<label for="HTTP-enabled" class="rt-modal rt-modal-label-copy">Web (HTTP): </label>
							<span class="rt-modal-tiny-copy">Every {{monitors['http'].frequency}}s</span>
						</li>
						<li>
							<input class="rt-modal" id="HTTPS-enabled" type="checkbox" ng-model="monitors['https'].enabled" ng-true-value="true" ng-false-value="false">
							<label for="HTTPS-enabled" class="rt-modal rt-modal-label-copy">Web (HTTPS): </label>
							<span class="rt-modal-tiny-copy">Every {{monitors['https'].frequency}}s</span>
						</li>												
					</ul>
					<a class="rt-modal-body-link" ng-click="endpointForm.$valid && discover(endpoint)">Check again</a>
				</div>
			</div>
		</div>
		<div class="clearfix"></div>
	
	</div>


 	<!-- End Summary Tab -->

	<!-- Ping Tab  -->
	<div class="rt-box">
		<div class="rt-box-header">
			<div class="rt-h2" style="vertical-align: baseline; vertical-align: -webkit-baseline-middle;">	Ping
			</div>
			<div style="float: right; display: inline;">
			<div style="display:inline; vertical-align: middle;">
				<svg width="35" height="35" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg" stroke="#13B3D4" class="puff">
			        <g fill="none" fill-rule="evenodd" stroke-width="2"> 
			            <circle cx="22" cy="22" r="1">
			                <animate attributeName="r"
			                    begin="0s" dur="1.8s"
			                    values="1; 20"
			                    calcMode="spline"
			                    keyTimes="0; 1"
			                    keySplines="0.165, 0.84, 0.44, 1"
			                    repeatCount="indefinite" />
			                <animate attributeName="stroke-opacity"
			                    begin="0s" dur="1.8s"
			                    values="1; 0"
			                    calcMode="spline"
			                    keyTimes="0; 1"
			                    keySplines="0.3, 0.61, 0.355, 1"
			                    repeatCount="indefinite" />
			            </circle>
			            <circle cx="22" cy="22" r="1">
			                <animate attributeName="r"
			                    begin="-0.9s" dur="1.8s"
			                    values="1; 20"
			                    calcMode="spline"
			                    keyTimes="0; 1"
			                    keySplines="0.165, 0.84, 0.44, 1"
			                    repeatCount="indefinite" />
			                <animate attributeName="stroke-opacity"
			                    begin="-0.9s" dur="1.8s"
			                    values="1; 0"
			                    calcMode="spline"
			                    keyTimes="0; 1"
			                    keySplines="0.3, 0.61, 0.355, 1"
			                    repeatCount="indefinite" />
			            </circle>
			        </g>
			    </svg>
			</div>				
				<span class="freqMsg">Every {{monitors['ping'].frequency}}s from All Collectors.</span>
				<span><i class="fa fa-caret-down"></i></span>
			</div>
		</div>
	  	<div class="rt-box-body">
	  			<p class="rt-body-copy">We send a burst of 10 ICMP echo ("ping") packets every check interval, from every Collector. This provides a simple and effective way to test your network connectivity in isolation from the rest of your application.</p></br>
				<div class="detailColumn detailFull">
					<div class="checkbox-check-enabled">
						<input class="rt-modal" id="ping-enabled" type="checkbox" ng-model="monitors['ping'].enabled" ng-true-value="true" ng-false-value="false">
						<label for="ping-enabled" class="rt-modal rt-label-copy">Tests Enabled</label>
					</div>
					<div class="rt-h4" style="margin: 20px 0; display: inline-block;">Check my endpoint every:</div>
					<div style="display: block;">
						<div style="display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex;display: flex; justify-content: flex-start;">
					        <div class="rt-radio-layout">
				            	<input id="rt-ping-radio-1" class="rt-radio-custom" name="rt-radio-group" type="radio" ng-model="monitors['ping'].frequency" ng-value="10">
					            <label for="rt-ping-radio-1" class="rt-radio-jumbo-label">10</label>
				            	<span class="rt-radio-jumbo-sub-label" style="padding-left: 40px;">Seconds</span>
					        </div>
					        <div class="rt-radio-layout">
					            <input id="rt-ping-radio-2" class="rt-radio-custom"name="rt-radio-group" type="radio" ng-model="monitors['ping'].frequency" ng-value="30">
					            <label for="rt-ping-radio-2" class="rt-radio-jumbo-label">30</label>
								<span class="rt-radio-jumbo-sub-label" style="padding-left: 40px;">Seconds</span>
					        </div>
					        <div class="rt-radio-layout">
					            <input id="rt-ping-radio-3" class="rt-radio-custom" name="rt-radio-group" type="radio" ng-model="monitors['ping'].frequency" ng-value="60">
					            <label for="rt-ping-radio-3" class="rt-radio-jumbo-label">60</label>
						            <span class="rt-radio-jumbo-sub-label" style="padding-left: 40px;">Seconds</span>
					        </div>
					       	<div class="rt-radio-layout">
					            <input id="rt-ping-radio-4" class="rt-radio-custom" name="rt-radio-group" type="radio" ng-model="monitors['ping'].frequency" ng-value="120">
					            <label for="rt-ping-radio-4" class="rt-radio-jumbo-label">120</label>
					            <span class="rt-radio-jumbo-sub-label" style="padding-left: 45px;">Seconds</span>
					        </div> 
						</div>
					</div>
					<div style="margin-top: 30px;">
							<div class="editor-option rt-input-styles" style="padding-top: 15px; padding-bottom: 5px;" ng-repeat="setting in monitor_types_by_name['ping'].settings">
								<raintank-setting definition="setting" target="currentSettingByVariable(monitors['ping'], setting.variable)">
							</div>

							<div class="editor-option" style="margin-top: 20px;">
								<label class="small">&nbsp;</label>
								<endpoint-collector-select model="monitors['ping']" collectors="collectors" style="modal-collector-select"></endpoint-collector-select>
							</div>
					</div>
				</div>
				<div class="detailFull">
					<div class="checkbox-check-enabled">
						<input class="rt-modal" id="ping-enabled" type="checkbox" ng-model="monitors['ping'].enabled" ng-true-value="true" ng-false-value="false">
						<label for="ping-enabled" class="rt-modal rt-label-copy">Alerting</label>
					</div>
				</div>
				<div class="clearfix"></div>
		</div>
	</div>

	<!-- End Ping Tab -->

	<!-- DNS Tab  -->
	
	<div class="rt-box">
		<div class="rt-box-header">
			<div class="rt-h2">DNS <span class="freqMsg" style="color: #13b2d4"></span></div>
			<div style="float: right; display: inline;">
				<span class="freqMsg">Every {{monitors['ping'].frequency}}s from All Collectors.</span>
				<a href="#" span class="freqMsg" style="color: #13b2d4">Configure.</a>
			</div>		</div>
		<div class="rt-box-body">
				<div class="detailColumn detailFull">
					<p class="rt-body-copy">We will do a single DNS lookup, on as many DNS servers as you specify every check interval, from every Collector. If one fails, we will move on to the other similar to the way that DNS works in the real world.</p>
					<div class="checkbox-check-enabled">
						<input class="rt-modal" id="ping-enabled" type="checkbox" ng-model="monitors['dns'].enabled" ng-true-value="true" ng-false-value="false">
						<label for="ping-enabled" class="rt-modal rt-modal-label-copy">Enabled</label>
					</div>
					<div class="rt-h2" style="margin: 20px 0; display: inline-block;">DNS check frequency:</div>
					<div style="display: block; margin-top: 20px;">
						<div style="display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex;display: flex; justify-content: flex-start;">
					        <div class="rt-radio-layout">
					           	<input id="rt-dns-radio-1" class="rt-radio-custom" name="rt-radio-group" type="radio" ng-model="monitors['dns'].frequency" ng-value="10">
					            <label for="rt-dns-radio-1" class="rt-radio-jumbo-label">10</label>
					           	<span class="rt-radio-jumbo-sub-label" style="padding-left: 40px;">Seconds</span>
					        </div>
					        <div class="rt-radio-layout">
					            <input id="rt-dns-radio-2" class="rt-radio-custom"name="rt-radio-group" type="radio" ng-model="monitors['dns'].frequency" ng-value="30">
					            <label for="rt-dns-radio-2" class="rt-radio-jumbo-label">30</label>
								<span class="rt-radio-jumbo-sub-label" style="padding-left: 40px;">Seconds</span>
					        </div>
					        <div class="rt-radio-layout">
					            <input id="rt-dns-radio-3" class="rt-radio-custom" name="rt-radio-group" type="radio" ng-model="monitors['dns'].frequency" ng-value="60">
					            <label for="rt-dns-radio-3" class="rt-radio-jumbo-label">60</label>
	   				            <span class="rt-radio-jumbo-sub-label" style="padding-left: 40px;">Seconds</span>
					        </div>
					       	<div class="rt-radio-layout">
					            <input id="rt-dns-radio-4" class="rt-radio-custom" name="rt-radio-group" type="radio" ng-model="monitors['dns'].frequency" ng-value="120">
					            <label for="rt-dns-radio-4" class="rt-radio-jumbo-label">120</label>
					            <span class="rt-radio-jumbo-sub-label" style="padding-left: 45px;">Seconds</span>
					        </div> 
						</div>
					</div>
	 				<div style="margin-top: 30px;">

	 					<label class="rt-advanced-options" for="_2">more options <i class="fa fa-caret-down"></i></label>
	 					<input id="_2" type="checkbox">
	 					<div>
							<div class="editor-option rt-input-styles" style="padding-top: 15px; padding-bottom: 5px;" ng-repeat="setting in monitor_types_by_name['dns'].settings">
								<raintank-setting definition="setting" target="currentSettingByVariable(monitors['dns'], setting.variable)">
							</div>
							<div class="editor-option" style="margin-top: 20px;">
								<label class="small">&nbsp;</label>
								<endpoint-collector-select model="monitors['dns']" collectors="collectors" style="modal-collector-select"></endpoint-collector-select>
							</div>
						</div>
					</div>
					<div class="checkbox-check-enabled">
						<input class="rt-modal" id="ping-enabled" type="checkbox" ng-model="monitors['ping'].enabled" ng-true-value="true" ng-false-value="false">
						<label for="ping-enabled" class="rt-modal rt-label-copy">Alerting Enabled</label>
				</div>
		</div>
	</div>
		<div class="clearfix"></div>
	</div>

	<!-- End DNS Tab -->




	<!-- Web Tab  -->

	<div class="rt-box-body">
		<div class="modalContainer">
			<div class="modalColumn modal-left-100">
				<p class="rt-modal-body-copy">We do an HTTP request to your Endpoint every check interval, from every Collector. We will download content from your web server up to the limit you specify.</p></br>
				<div class="checkbox-check-enabled">
					<input class="rt-modal" id="ping-enabled" type="checkbox" ng-model="monitors['http'].enabled" ng-true-value="true" ng-false-value="false">
					<label for="ping-enabled" class="rt-modal rt-modal-label-copy">Enabled</label>
				</div>
				<div class="rt-h2" style="margin: 20px 0; display: inline-block;">HTTP check frequency:</div>
				<div style="display: block; margin-top: 20px;">
					<div style="display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex;display: flex; justify-content: space-around;">
				        <div class="rt-radio-layout">
				           	<input id="rt-dns-radio-1" class="rt-radio-custom" name="rt-radio-group" type="radio" ng-model="monitors['http'].frequency" ng-value="10">
				            <label for="rt-dns-radio-1" class="rt-radio-jumbo-label">10</label>
				           	<span class="rt-radio-jumbo-sub-label" style="padding-left: 45px;">Seconds</span>
				        </div>
				        <div class="rt-radio-layout">
				            <input id="rt-dns-radio-2" class="rt-radio-custom"name="rt-radio-group" type="radio" ng-model="monitors['http'].frequency" ng-value="30">
				            <label for="rt-dns-radio-2" class="rt-radio-jumbo-label">30</label>
							<span class="rt-radio-jumbo-sub-label" style="padding-left: 45px;">Seconds</span>
				        </div>
				        <div class="rt-radio-layout">
				            <input id="rt-dns-radio-3" class="rt-radio-custom" name="rt-radio-group" type="radio" ng-model="monitors['http'].frequency" ng-value="60">
				            <label for="rt-dns-radio-3" class="rt-radio-jumbo-label">60</label>
   				            <span class="rt-radio-jumbo-sub-label" style="padding-left: 45px;">Seconds</span>
				        </div>
				       	<div class="rt-radio-layout">
				            <input id="rt-dns-radio-4" class="rt-radio-custom" name="rt-radio-group" type="radio" ng-model="monitors['http'].frequency" ng-value="120">
				            <label for="rt-dns-radio-4" class="rt-radio-jumbo-label">120</label>
				            <span class="rt-radio-jumbo-sub-label" style="padding-left: 55px;">Seconds</span>
				        </div> 
					</div>
				</div>
 				<div style="margin-top: 30px;">
 						<div class="editor-option rt-input-styles" style="padding-top: 15px; padding-bottom: 5px;" ng-repeat="setting in monitor_types_by_name['http'].settings">
							<raintank-setting definition="setting" target="currentSettingByVariable(monitors['http'], setting.variable)">
						</div>
						<div class="editor-option" style="margin-top: 20px;">
							<label class="small">&nbsp;</label>
							<endpoint-collector-select model="monitors['http']" collectors="collectors" style="modal-collector-select"></endpoint-collector-select>
						</div>
				</div>
			</div>
		</div>
	</div>


	<!-- End Web Tab -->
	<!-- Web(ssl) Tab  -->

	<div class="rt-box-body">
		<div class="modalContainer">
			<div class="modalColumn modal-left-100">
				<p class="rt-modal-body-copy">We do an HTTPS request to your Endpoint every check interval, from every Collector. We will download content from your web server up to the limit you specify.</p></br>
				<div class="checkbox-check-enabled">
					<input class="rt-modal" id="ping-enabled" type="checkbox" ng-model="monitors['https'].enabled" ng-true-value="true" ng-false-value="false">
					<label for="ping-enabled" class="rt-modal rt-modal-label-copy">Enabled</label>
				</div>
				<div class="rt-h2" style="margin: 20px 0; display: inline-block;">HTTPS check frequency:</div>
				<div style="display: block; margin-top: 20px;">
					<div style="display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex;display: flex; justify-content: space-around;">
				        <div class="rt-radio-layout">
				           	<input id="rt-dns-radio-1" class="rt-radio-custom" name="rt-radio-group" type="radio" ng-model="monitors['https'].frequency" ng-value="10">
				            <label for="rt-dns-radio-1" class="rt-radio-jumbo-label">10</label>
				           	<span class="rt-radio-jumbo-sub-label" style="padding-left: 45px;">Seconds</span>
				        </div>
				        <div class="rt-radio-layout">
				            <input id="rt-dns-radio-2" class="rt-radio-custom"name="rt-radio-group" type="radio" ng-model="monitors['https'].frequency" ng-value="30">
				            <label for="rt-dns-radio-2" class="rt-radio-jumbo-label">30</label>
							<span class="rt-radio-jumbo-sub-label" style="padding-left: 45px;">Seconds</span>
				        </div>
				        <div class="rt-radio-layout">
				            <input id="rt-dns-radio-3" class="rt-radio-custom" name="rt-radio-group" type="radio" ng-model="monitors['https'].frequency" ng-value="60">
				            <label for="rt-dns-radio-3" class="rt-radio-jumbo-label">60</label>
   				            <span class="rt-radio-jumbo-sub-label" style="padding-left: 45px;">Seconds</span>
				        </div>
				       	<div class="rt-radio-layout">
				            <input id="rt-dns-radio-4" class="rt-radio-custom" name="rt-radio-group" type="radio" ng-model="monitors['https'].frequency" ng-value="120">
				            <label for="rt-dns-radio-4" class="rt-radio-jumbo-label">120</label>
				            <span class="rt-radio-jumbo-sub-label" style="padding-left: 55px;">Seconds</span>
				        </div> 
					</div>
				</div>
 				<div style="margin-top: 30px;">
 						<div class="editor-option rt-input-styles" style="padding-top: 15px; padding-bottom: 5px;" ng-repeat="setting in monitor_types_by_name['https'].settings">
							<raintank-setting definition="setting" target="currentSettingByVariable(monitors['https'], setting.variable)">
						</div>
						<div class="editor-option" style="margin-top: 20px;">
							<label class="small">&nbsp;</label>
							<endpoint-collector-select model="monitors['https']" collectors="collectors" style="modal-collector-select"></endpoint-collector-select>
						</div>
				</div>
			</div>
		</div>
	</div>
	<!-- End Web(ssl) Tab -->


	<div style="margin-top: 25px;">
		<button type="submit" class="rt-btn btn-modal" ng-click="addEndpoint(endpoint)">Add Endpoint</button>
		<span class="cancel-primary" ng-click="dismiss();">Cancel</span>
	</div>

</form>
</div>
