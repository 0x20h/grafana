<div ng-controller="raintankServiceThresholdsCtrl" class="modal">
    <form name="serviceThresholdForm" class="css-form" novalidate>
        <div class="modal-header">
            <a class="close" ng-click="dismiss()">&times;</a>
            <h3>Thresholds</h3>
        </div>
        <div class="modal-body">
            <div class="alert alert-danger" ng-show="error">
                <button type="button" class="close"  aria-hidden="true" ng-click="dismiss_alert()">&times;</button>
                {{error}}
            </div>
            <div>
                <div class="col-sm-12">
                    <table class="table">
                        <thead>
                            <tr>
                                <td><select ng-model="newThreshold" ng-options="metric.name for metric in metricsWithoutThresholds()"></select></td>
                                <td><a ng-click="addThreshold()"><i class="icon-plus"></i></a></td>
                                <td colspan="3">&nbsp;</td>
                            </tr>
                            <tr>
                                <td>Metric</td>
                                <td>Warning Max</td>
                                <td>Warning Min</td>
                                <td>Critical Max</td>
                                <td>Critical Min</td>
                                <td>&nbsp;</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="metric in metricsWithThresholds()">
                                <td>{{metric.name}}</td>
                                <td><input type="text" ng-model="metric.thresholds.warnMax"></td>
                                <td><input type="text" ng-model="metric.thresholds.warnMin"></td>
                                <td><input type="text" ng-model="metric.thresholds.criticalMax"></td>
                                <td><input type="text" ng-model="metric.thresholds.cricitalMin"></td>
                                <td><a ng-click="removeThresholds(metric)"><i class="icon-minus"></i></a></td>
                            </tr>
                        </tbody>

                    </table>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-disabled="serviceThresholdForm.$invalid" ng-click="save()">Save Thresholds</button>
            <button class="btn btn-default" ng-click="dismiss()">Cancel</button>
        </div>
    </form>
</div>
